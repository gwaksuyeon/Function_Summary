{"version":3,"sources":["pages/goodsOption/Separation.tsx","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js"],"names":["Select","loadable","Amount","Total","Container","styled","div","SelectedLayout","AmountLayout","Separation","data","dispatch","useDispatch","separationOptionList","useSelector","state","options","useState","selected1List","setSelected1List","selected2List","setSelected2List","selectedList","setSelectedList","useEffect","resSelected1List","optionList","filter","f","depth1","optionNameList","selected1","selected2","resSelected2List","length","optionCreate","type","optionType","buyCnt","map","obj","inx","placeholder","currentSelectList","onSelectedList","index","price","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread2","target","i","arguments","source","forEach","key","getOwnPropertyDescriptors","defineProperties","defineProperty"],"mappings":"mNAQMA,EAASC,aAAS,kBAAM,uDACxBC,EAASD,aAAS,kBAAM,iCACxBE,EAAQF,aAAS,kBAAM,iCAmGvBG,EAAYC,IAAOC,IAAV,0BAETC,EAAiBF,IAAOC,IAAV,sDAIdE,EAAeH,IAAOC,IAAV,qGAKHG,UAxGqB,SAAC,GAAc,IAAZC,EAAW,EAAXA,KAC7BC,EAAWC,cACTC,EAAyBC,aAC7B,SAACC,GAAD,OAAsBA,EAAMC,WADxBH,qBAGR,EAA0CI,mBAAc,IAAxD,mBAAOC,EAAP,KAAsBC,EAAtB,KACA,EAA0CF,mBAAc,IAAxD,mBAAOG,EAAP,KAAsBC,EAAtB,KACA,EAAwCJ,mBAAc,IAAtD,mBAAOK,EAAP,KAAqBC,EAArB,KAyCA,OAvCAC,qBAAU,WACN,GAAId,EAAM,CAEN,IAAMe,EAAmBf,EAAKgB,WAAWC,QACrC,SAACC,GAAD,OAAYA,EAAEC,SAAWnB,EAAKoB,eAAe,MAGjDX,EAAiBM,MAEtB,CAACf,IAEJc,qBAAU,WAEN,GAAIF,GAAgBA,EAAaS,YAAcT,EAAaU,UAAW,CACnE,IAAMC,EACFvB,EAAKgB,WAAWQ,OAAS,EACnBxB,EAAKgB,WAAWC,QACZ,SAACC,GAAD,OAAYA,EAAEC,SAAWnB,EAAKoB,eAAe,MAEjD,GACVT,EAAiBY,MAItB,CAACX,IAEJE,qBAAU,WAEFF,EAAaU,WACbrB,EACIwB,YAAa,CACTC,KAAM1B,EAAK2B,WACXf,aAAa,2BAAMA,GAAP,IAAqBgB,OAAQ,SAKtD,CAAChB,EAAaU,YAGb,eAAC5B,EAAD,WACI,cAACG,EAAD,UACKG,EAAKoB,gBACFpB,EAAKoB,eAAeS,KAAI,SAACC,EAAUC,GAAX,OACpB,cAACzC,EAAD,CAEIoC,KAAc,IAARK,EAAY,SAAW,SAC7BJ,WAAY3B,EAAK2B,WACjBK,YAAaF,EACblB,aACY,IAARmB,EAAYvB,EAAgBE,EAEhCuB,kBAAmBrB,EACnBsB,eAAgBrB,GATpB,iBACmBiB,SAa9B3B,EAAqBqB,OAAS,GAC3B,cAAC1B,EAAD,UACKK,EAAqB0B,KAAI,SAACC,EAAUC,GAAX,OACtB,cAACvC,EAAD,CAEIQ,KAAM8B,EACNK,MAAOJ,EACPJ,WAAY3B,EAAK2B,WACjBS,MACIpC,EAAKoC,MACLN,EAAIT,UAAUe,MACdN,EAAIR,UAAUc,OARtB,iBACmBL,SAc/B,cAACtC,EAAD,CACIO,KAAMG,EACNwB,WAAY3B,EAAK2B,WACjBS,MAAOpC,EAAKoC,a,gCCxG5B,8CAEA,SAASC,EAAQC,EAAQC,GACvB,IAAIC,EAAOC,OAAOD,KAAKF,GAEvB,GAAIG,OAAOC,sBAAuB,CAChC,IAAIC,EAAUF,OAAOC,sBAAsBJ,GACvCC,IAAgBI,EAAUA,EAAQ1B,QAAO,SAAU2B,GACrD,OAAOH,OAAOI,yBAAyBP,EAAQM,GAAKE,eAEtDN,EAAKO,KAAKC,MAAMR,EAAMG,GAGxB,OAAOH,EAGM,SAASS,EAAeC,GACrC,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAU5B,OAAQ2B,IAAK,CACzC,IAAIE,EAAyB,MAAhBD,UAAUD,GAAaC,UAAUD,GAAK,GAE/CA,EAAI,EACNd,EAAQI,OAAOY,IAAS,GAAMC,SAAQ,SAAUC,GAC9C,YAAeL,EAAQK,EAAKF,EAAOE,OAE5Bd,OAAOe,0BAChBf,OAAOgB,iBAAiBP,EAAQT,OAAOe,0BAA0BH,IAEjEhB,EAAQI,OAAOY,IAASC,SAAQ,SAAUC,GACxCd,OAAOiB,eAAeR,EAAQK,EAAKd,OAAOI,yBAAyBQ,EAAQE,OAKjF,OAAOL","file":"static/js/27.79d2301b.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport styled from 'styled-components';\r\nimport loadable from '@loadable/component';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\nimport { RootState } from 'reducers/index';\r\nimport { optionCreate } from 'reducers/options';\r\n\r\nconst Select = loadable(() => import('components/goodsOption/Select'));\r\nconst Amount = loadable(() => import('components/goodsOption/Amount'));\r\nconst Total = loadable(() => import('components/goodsOption/Total'));\r\n\r\ninterface Props {\r\n    data: any;\r\n}\r\n\r\nconst Separation: React.FC<Props> = ({ data }) => {\r\n    const dispatch = useDispatch();\r\n    const { separationOptionList } = useSelector(\r\n        (state: RootState) => state.options,\r\n    );\r\n    const [selected1List, setSelected1List] = useState<any>([]);\r\n    const [selected2List, setSelected2List] = useState<any>([]);\r\n    const [selectedList, setSelectedList] = useState<any>('');\r\n\r\n    useEffect(() => {\r\n        if (data) {\r\n            // depth1 옵션 리스트 생성\r\n            const resSelected1List = data.optionList.filter(\r\n                (f: any) => f.depth1 === data.optionNameList[0],\r\n            );\r\n\r\n            setSelected1List(resSelected1List);\r\n        }\r\n    }, [data]);\r\n\r\n    useEffect(() => {\r\n        // depth1가 선택되고 depth2 옵션 리스트 생성\r\n        if (selectedList && selectedList.selected1 && !selectedList.selected2) {\r\n            const resSelected2List =\r\n                data.optionList.length > 1\r\n                    ? data.optionList.filter(\r\n                          (f: any) => f.depth1 === data.optionNameList[1],\r\n                      )\r\n                    : [];\r\n            setSelected2List(resSelected2List);\r\n        }\r\n\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [selectedList]);\r\n\r\n    useEffect(() => {\r\n        // 옵션 수량 생성\r\n        if (selectedList.selected2) {\r\n            dispatch(\r\n                optionCreate({\r\n                    type: data.optionType,\r\n                    selectedList: { ...selectedList, buyCnt: 1 },\r\n                }),\r\n            );\r\n        }\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [selectedList.selected2]);\r\n\r\n    return (\r\n        <Container>\r\n            <SelectedLayout>\r\n                {data.optionNameList &&\r\n                    data.optionNameList.map((obj: any, inx: number) => (\r\n                        <Select\r\n                            key={`select-${obj}`}\r\n                            type={inx === 0 ? 'depth1' : 'depth2'}\r\n                            optionType={data.optionType}\r\n                            placeholder={obj}\r\n                            selectedList={\r\n                                inx === 0 ? selected1List : selected2List\r\n                            }\r\n                            currentSelectList={selectedList}\r\n                            onSelectedList={setSelectedList}\r\n                        />\r\n                    ))}\r\n            </SelectedLayout>\r\n\r\n            {separationOptionList.length > 0 && (\r\n                <AmountLayout>\r\n                    {separationOptionList.map((obj: any, inx: number) => (\r\n                        <Amount\r\n                            key={`amount-${inx}`}\r\n                            data={obj}\r\n                            index={inx}\r\n                            optionType={data.optionType}\r\n                            price={\r\n                                data.price +\r\n                                obj.selected1.price +\r\n                                obj.selected2.price\r\n                            }\r\n                        />\r\n                    ))}\r\n                </AmountLayout>\r\n            )}\r\n\r\n            <Total\r\n                data={separationOptionList}\r\n                optionType={data.optionType}\r\n                price={data.price}\r\n            />\r\n        </Container>\r\n    );\r\n};\r\nconst Container = styled.div``;\r\n\r\nconst SelectedLayout = styled.div`\r\n    margin-bottom: 20px;\r\n`;\r\n\r\nconst AmountLayout = styled.div`\r\n    max-height: 250px;\r\n    margin-bottom: 30px;\r\n    overflow-y: auto;\r\n`;\r\nexport default Separation;\r\n","import defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}"],"sourceRoot":""}