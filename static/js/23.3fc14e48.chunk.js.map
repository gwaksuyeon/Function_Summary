{"version":3,"sources":["pages/goodsOption/Combine.tsx","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js"],"names":["Select","loadable","Amount","Total","Container","styled","div","SelectedLayout","AmountLayout","Combine","data","dispatch","useDispatch","combineOptionList","useSelector","state","options","useState","selected1List","setSelected1List","selected2List","setSelected2List","selectedList","setSelectedList","useEffect","resSelected1List","Set","optionList","map","obj","depth1","selected1","selected2","resSelected2List","filter","f","optionCreate","type","optionType","buyCnt","optionNameList","inx","placeholder","currentSelectList","onSelectedList","length","index","price","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread2","target","i","arguments","source","forEach","key","getOwnPropertyDescriptors","defineProperties","defineProperty","_toConsumableArray","arr","Array","isArray","arrayLikeToArray","iter","Symbol","iterator","from","unsupportedIterableToArray","TypeError"],"mappings":"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","file":"static/js/23.3fc14e48.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport styled from 'styled-components';\r\nimport loadable from '@loadable/component';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\nimport { RootState } from 'reducers/index';\r\nimport { optionCreate } from 'reducers/options';\r\n\r\nconst Select = loadable(() => import('components/goodsOption/Select'));\r\nconst Amount = loadable(() => import('components/goodsOption/Amount'));\r\nconst Total = loadable(() => import('components/goodsOption/Total'));\r\n\r\ninterface Props {\r\n    data: any;\r\n}\r\n\r\nconst Combine: React.FC<Props> = ({ data }) => {\r\n    const dispatch = useDispatch();\r\n    const { combineOptionList } = useSelector(\r\n        (state: RootState) => state.options,\r\n    );\r\n    const [selected1List, setSelected1List] = useState<any>([]);\r\n    const [selected2List, setSelected2List] = useState<any>([]);\r\n    const [selectedList, setSelectedList] = useState<any>('');\r\n\r\n    useEffect(() => {\r\n        if (data) {\r\n            // depth1 옵션 리스트 생성\r\n            const resSelected1List = [\r\n                ...new Set(data.optionList.map((obj: any) => obj.depth1)),\r\n            ];\r\n            setSelected1List(resSelected1List);\r\n        }\r\n    }, [data]);\r\n\r\n    useEffect(() => {\r\n        // depth1가 선택되고 depth2 옵션 리스트 생성\r\n        if (selectedList && selectedList.selected1 && !selectedList.selected2) {\r\n            const resSelected2List =\r\n                data.optionList.filter(\r\n                    (f: any) => f.depth1 === selectedList.selected1,\r\n                ) || [];\r\n            setSelected2List(resSelected2List);\r\n        }\r\n\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [selectedList]);\r\n\r\n    useEffect(() => {\r\n        // 옵션 수량 생성\r\n        if (selectedList.selected2) {\r\n            dispatch(\r\n                optionCreate({\r\n                    type: data.optionType,\r\n                    selectedList: { ...selectedList, buyCnt: 1 },\r\n                }),\r\n            );\r\n        }\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [selectedList.selected2]);\r\n\r\n    return (\r\n        <Container>\r\n            <SelectedLayout>\r\n                {data.optionNameList &&\r\n                    data.optionNameList.map((obj: any, inx: number) => (\r\n                        <Select\r\n                            key={`select-${obj}`}\r\n                            type={inx === 0 ? 'depth1' : 'depth2'}\r\n                            optionType={data.optionType}\r\n                            placeholder={obj}\r\n                            selectedList={\r\n                                inx === 0 ? selected1List : selected2List\r\n                            }\r\n                            currentSelectList={selectedList}\r\n                            onSelectedList={setSelectedList}\r\n                        />\r\n                    ))}\r\n            </SelectedLayout>\r\n\r\n            {combineOptionList.length > 0 && (\r\n                <AmountLayout>\r\n                    {combineOptionList.map((obj: any, inx: number) => (\r\n                        <Amount\r\n                            key={`amount-${inx}`}\r\n                            data={obj}\r\n                            index={inx}\r\n                            optionType={data.optionType}\r\n                            price={data.price + obj.selected2.price}\r\n                        />\r\n                    ))}\r\n                </AmountLayout>\r\n            )}\r\n            <Total\r\n                data={combineOptionList}\r\n                optionType={data.optionType}\r\n                price={data.price}\r\n            />\r\n        </Container>\r\n    );\r\n};\r\n\r\nconst Container = styled.div``;\r\n\r\nconst SelectedLayout = styled.div`\r\n    margin-bottom: 20px;\r\n`;\r\n\r\nconst AmountLayout = styled.div`\r\n    max-height: 250px;\r\n    margin-bottom: 30px;\r\n    overflow-y: auto;\r\n`;\r\n\r\nexport default Combine;\r\n","import defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","import arrayWithoutHoles from \"@babel/runtime/helpers/esm/arrayWithoutHoles\";\nimport iterableToArray from \"@babel/runtime/helpers/esm/iterableToArray\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableSpread from \"@babel/runtime/helpers/esm/nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}"],"sourceRoot":""}